import { DNA } from '../theme/types';

export const extractDNAProps = <T extends Record<string, any>>(
  props: T & DNA,
  merge?: DNA
): [DNA, T] => {
  const {
    fg,
    bg,
    border,
    radius,
    shadow,
    opacity,
    m,
    p,
    mx,
    my,
    px,
    py,
    mt,
    mb,
    ml,
    mr,
    pt,
    pr,
    pb,
    pl,
    font,
    weight,
    display,
    rowLayout,
    colLayout,
    alignItems,
    justifyItems,
    alignContent,
    justifyContent,
    gap,
    align,
    justify,
    position,
    left,
    right,
    top,
    bottom,
    width,
    height,
    maxWidth,
    maxHeight,
    minWidth,
    minHeight,
    flex,
    ...rest
  } = props;

  const dna: {
    [key in keyof Required<DNA>]: DNA[key] | undefined;
  } = {
    fg,
    bg,
    border,
    radius,
    shadow,
    opacity,
    m,
    p,
    mx,
    my,
    px,
    py,
    mt,
    mb,
    ml,
    mr,
    pt,
    pr,
    pb,
    pl,
    font,
    weight,
    display,
    rowLayout,
    colLayout,
    alignItems,
    justifyItems,
    alignContent,
    justifyContent,
    gap,
    align,
    justify,
    position,
    left,
    right,
    top,
    bottom,
    width,
    height,
    maxWidth,
    maxHeight,
    minWidth,
    minHeight,
    flex,
    ...merge,
  };

  return [dna as Partial<DNA>, rest as T];
};
